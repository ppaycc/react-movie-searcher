(this["webpackJsonpreact-movie-searcher"]=this["webpackJsonpreact-movie-searcher"]||[]).push([[0],{12:function(e,t,n){e.exports={mt10:"ShowCard_mt10__2pVg8",img:"ShowCard_img__swRJs",bg:"ShowCard_bg__3AVMK",bg1:"ShowCard_bg1__5l88b",imgBg:"ShowCard_imgBg__3c7MH",main:"ShowCard_main__3gcv3",poster:"ShowCard_poster__3C2-o"}},16:function(e,t,n){e.exports={paginationContainerItem:"Pagination_paginationContainerItem__2n1c_",paginationItem:"Pagination_paginationItem__3CuWt",paginationItemActive:"Pagination_paginationItemActive__1Osn8",paginationBtn:"Pagination_paginationBtn__1Diwq"}},20:function(e,t,n){e.exports={header:"Header_header___AbcZ",wrapper:"Header_wrapper__35Sya",active:"Header_active__7XzYf"}},21:function(e,t,n){e.exports={items:"Movie_items__3ajfD",pages:"Movie_pages__39u8f",flex:"Movie_flex__1EVK4"}},25:function(e,t,n){e.exports={main:"Favorite_main__2wrHT",favoriteBtn:"Favorite_favoriteBtn__2SqsX",hidden:"Favorite_hidden__1Ex1G"}},30:function(e,t,n){e.exports={favorite:"Card_favorite__3V9qY",noFavorite:"Card_noFavorite__22t-v",card:"Card_card__1l8-H"}},33:function(e,t,n){e.exports={main:"Trailer_main__2gjuo",flex:"Trailer_flex__2V65P"}},44:function(e,t,n){e.exports={input:"InputForm_input__1dAND"}},53:function(e,t,n){},54:function(e,t,n){},79:function(e,t){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n(22),i=n.n(c),s=(n(53),n(54),n(11)),o=n(20),u=n.n(o),l=function(e){return Object(a.jsx)("header",{className:u.a.header,children:Object(a.jsxs)("div",{className:u.a.wrapper,children:[Object(a.jsx)(s.b,{to:"/movie",activeClassName:u.a.active,children:"Movie"}),Object(a.jsx)(s.b,{to:"/favorite",activeClassName:u.a.active,children:"Favorites"})]})})},j=n(5),d=n(30),b=n.n(d),f=n.p+"static/media/photo_2020-12-28_16-51-34.c89219cf.jpg",g=function(e){var t=e.poster?"https://image.tmdb.org/t/p/original".concat(e.poster):f;return Object(a.jsxs)("div",{className:"".concat(b.a.card," ").concat(b.a[e.favorite?"favorite":"noFavorite"]),children:[Object(a.jsx)(s.b,{to:"/".concat(e.path),children:Object(a.jsx)("img",{src:t})}),Object(a.jsx)("div",{children:e.title}),Object(a.jsx)("div",{children:e.date?e.date.replace(/-/g,"/"):""})]})},O=n(21),h=n.n(O),p=n(4),v=n(19),_=n(2),m=n(13),x="SET_NEW_RESULT",N="SET_TOTAL_PAGE",P="CHANGE_VALUE_MOVIE",y="NOT_FOUND",E="SET_CURRENT_PAGE",T="SET_IS_FETCHING",w="CHANGE_CURRENT_PORTION_FOR_PAGE",S="RESET_PORTION_COUNT",I={query:"",sought:"",textForPagination:"",currentPage:1,totalPage:"",result:[],noResult:"You can find something",isFetching:!1,portionPage:1,url:"https://api.themoviedb.org/3/search/movie?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US"},C=function(e){return{type:w,portionPage:e}},F=function(){return{type:T}},G=function(e,t){return{type:x,result:e,query:t}},R=function(e){return{type:N,page:e}},k=function(e){return{type:P,value:e}},A=function(){return{type:y}},q=function(e){return{type:E,page:e}},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){a(F());var r=t.length>0?"&query=".concat(t):"";m.get(e+"&page="+n+r).then((function(e){0===e.data.results.length?(a(A()),a(R("")),a(G([],t)),a(F())):(a(q(n)),a(G(e.data.results,t)),a(R(e.data.total_pages)),a(F()))}))}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(_.a)(Object(_.a)({},e),{},{result:Object(v.a)(t.result),sought:t.query,query:""});case N:return Object(_.a)(Object(_.a)({},e),{},{totalPage:t.page});case P:return Object(_.a)(Object(_.a)({},e),{},{query:t.value});case y:return Object(_.a)(Object(_.a)({},e),{},{noResult:"I couldn't find it. Try again"});case E:return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.page});case T:return Object(_.a)(Object(_.a)({},e),{},{isFetching:!e.isFetching});case w:return Object(_.a)(Object(_.a)({},e),{},{portionPage:e.portionPage+t.portionPage});case S:return Object(_.a)(Object(_.a)({},e),{},{portionPage:1});default:return e}},U=function(){return Object(a.jsx)("div",{className:"preloader",children:Object(a.jsx)("div",{className:"preloaderWrapper",children:Object(a.jsxs)("div",{id:"floatingCirclesG",children:[Object(a.jsx)("div",{className:"f_circleG",id:"frotateG_01"}),Object(a.jsx)("div",{className:"f_circleG",id:"frotateG_02"}),Object(a.jsx)("div",{className:"f_circleG",id:"frotateG_03"}),Object(a.jsx)("div",{className:"f_circleG",id:"frotateG_04"}),Object(a.jsx)("div",{className:"f_circleG",id:"frotateG_05"}),Object(a.jsx)("div",{className:"f_circleG",id:"frotateG_06"}),Object(a.jsx)("div",{className:"f_circleG",id:"frotateG_07"}),Object(a.jsx)("div",{className:"f_circleG",id:"frotateG_08"})]})})})},M=n(44),H=n.n(M),D=function(e){var t=Object(p.b)();return Object(a.jsxs)("div",{className:H.a.input,children:[Object(a.jsx)("input",{placeholder:"Type here...",type:"text",value:e.query,onKeyDown:function(n){return function(n){13===n.keyCode&&e.query.trim().length>0&&t(e.getNewItems(e.url,e.query))}(n)},onChange:function(n){return t(e.changeValueMovie(n.currentTarget.value))}}),Object(a.jsx)("button",{onClick:function(){e.query.trim().length>0&&t(e.getNewItems(e.url,e.query))},children:"Search"})]})},L=n(16),J=n.n(L),Y=function(e){for(var t=Object(p.b)(),n=[],r=1;r<=e.totalPage;r++)n.push(r);var c=e.totalPage/10,i=10*(e.portionPage-1)+1,s=10*e.portionPage;return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:J.a.paginationBtn,disabled:1===e.portionPage,onClick:function(){return t(e.changePortionPage(-1))},children:"<<"}),Object(a.jsx)("div",{className:J.a.paginationContainerItem,children:n.filter((function(e){return e>=i&&e<s+1})).map((function(n){return Object(a.jsx)("span",{className:e.currentPage===n?J.a.paginationItemActive:J.a.paginationItem,onClick:function(){return function(n){t(e.getNewItems(e.url,e.sought,n))}(n)},children:n},n)}))}),Object(a.jsx)("button",{className:J.a.paginationBtn,disabled:c<e.portionPage,onClick:function(){return t(e.changePortionPage(1))},children:">>"})]})},K=n(32),W=n.n(K),X=n(45),$="GET_FAVORITE",z="SET_FAVORITE",Z="SET_FAVORITE_CARD",Q="RESET_FAVORITE_ITEMS",ee="DELETE_FAVORITE_ITEM",te={favorites:[],results:[]},ne=function(){return{type:$}},ae=function(e){return function(){var t=Object(X.a)(W.a.mark((function t(n){var a,r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],r=0;case 2:if(!(r<e.length)){t.next=8;break}return t.next=5,m.get("https://api.themoviedb.org/3/".concat(e[r].type,"/").concat(e[r].id,"?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US")).then((function(e){a.push(e.data)}));case 5:r++,t.next=2;break;case 8:n({type:Z,items:a});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:var n=JSON.parse(localStorage.getItem("favorite"))||[];return Object(_.a)(Object(_.a)({},e),{},{favorites:n});case z:var a={id:t.id,type:t.kind},r=JSON.parse(localStorage.getItem("favorite"))||[];return r.push(a),localStorage.setItem("favorite",JSON.stringify(r)),Object(_.a)({},e);case Z:return Object(_.a)(Object(_.a)({},e),{},{results:Object(v.a)(t.items)});case Q:return Object(_.a)(Object(_.a)({},e),{},{results:[]});case ee:var c=e.favorites.filter((function(e){return e.id!==t.id}));return localStorage.setItem("favorite",JSON.stringify(c)),Object(_.a)(Object(_.a)({},e),{},{favorites:Object(v.a)(c)});default:return e}},ce=function(e){var t=Object(p.b)(),n=Object(p.c)((function(e){return e.moviePage.query})),c=Object(p.c)((function(e){return e.moviePage.result})),i=Object(p.c)((function(e){return e.moviePage.noResult})),s=Object(p.c)((function(e){return e.moviePage.url})),o=Object(p.c)((function(e){return e.moviePage.totalPage})),u=Object(p.c)((function(e){return e.moviePage.sought})),l=Object(p.c)((function(e){return e.moviePage.currentPage})),j=Object(p.c)((function(e){return e.moviePage.isFetching})),d=Object(p.c)((function(e){return e.moviePage.portionPage})),b=Object(p.c)((function(e){return e.favorites.favorites}));Object(r.useEffect)((function(){t({type:S})}),[u]),Object(r.useEffect)((function(){window.scrollTo(0,0),t(ne())}),[]);var f=c.map((function(e){var t=b.some((function(t){return t.id===e.id}));return Object(a.jsx)(g,{date:e.release_date,title:e.title,id:e.id,poster:e.poster_path,path:"movie/movie-".concat(e.id),favorite:t},e.id)}));return Object(a.jsxs)(a.Fragment,{children:[j&&Object(a.jsx)(U,{}),Object(a.jsxs)("div",{className:h.a.flex,children:[Object(a.jsx)("div",{className:h.a.pages,children:u.length>0?"Results on request: ".concat(u):""}),Object(a.jsx)(D,{query:n,getNewItems:V,changeValueMovie:k,url:s})]}),Object(a.jsx)("div",{className:h.a.pages,children:o>0&&Object(a.jsx)(Y,{totalPage:o,portionPage:d,getNewItems:V,url:s,sought:u,changePortionPage:C,currentPage:l})}),Object(a.jsx)("div",{className:h.a.items,children:0!==f.length?f:Object(a.jsx)("p",{children:i})})]})},ie=n(47),se=n(12),oe=n.n(se),ue="SET_RESULT",le="SET_FETCHING",je="SET_TRAILER",de={result:{},trailer:[],isFetching:!1},be=function(){return{type:le}},fe=function(e,t){return function(n){n(be()),m.get("https://api.themoviedb.org/3/".concat(e,"/").concat(t,"?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US")).then((function(e){var t;n((t=e.data,{type:ue,result:t})),n(be())}))}},ge=function(e){return{type:je,trailer:e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(_.a)(Object(_.a)({},e),{},{result:t.result});case je:return Object(_.a)(Object(_.a)({},e),{},{trailer:t.trailer});case le:return Object(_.a)(Object(_.a)({},e),{},{isFetching:!e.isFetching});default:return e}},he=n(33),pe=n.n(he),ve=function(e){var t=e.trailer.map((function(e){return Object(a.jsx)("a",{target:"_blank",href:"https://www.youtube.com/watch?v=".concat(e.key),children:e.name},e.id)}));return Object(a.jsxs)("div",{className:pe.a.main,children:[Object(a.jsx)("h2",{children:"Trailers:"}),Object(a.jsx)("div",{className:pe.a.flex,children:t})]})},_e=Object(j.f)((function(e){var t=Object(p.b)(),n=Object(p.c)((function(e){return e.showInfo.result})),c=Object(p.c)((function(e){return e.showInfo.isFetching})),i=Object(p.c)((function(e){return e.showInfo.trailer})),s=Object(p.c)((function(e){return e.favorites.favorites})),o=e.match.params.path.split("-")[0],u=parseInt(e.match.params.path.split("-")[1]);Object(r.useEffect)((function(){window.scrollTo(0,0),t(fe(o,u)),t(function(e){return function(t){m.get("https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US\n")).then((function(e){e.data.results.length>0?t(ge(e.data.results)):t(ge([]))}))}}(u))}),[]);var l=function(e,n){t(function(e,t){return{type:z,kind:e,id:t}}(e,n)),O((function(e){return!e}))},j=s.some((function(e){return e.id===u})),d=Object(r.useState)(j),b=Object(ie.a)(d,2),g=b[0],O=b[1],h="https://image.tmdb.org/t/p/original"+n.poster_path;return Object(a.jsxs)(a.Fragment,{children:[g||Object(a.jsx)("button",{onClick:function(){return l(o,u)},children:"Add to favorite"}),c&&Object(a.jsx)(U,{}),Object(a.jsxs)("div",{className:oe.a.mt10,children:[Object(a.jsxs)("div",{className:oe.a.main,children:[Object(a.jsx)("img",{src:n.poster_path?h:f,className:oe.a.poster}),Object(a.jsxs)("div",{className:oe.a.description,children:[Object(a.jsx)("h2",{children:n.title}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Tagline:"})," ",n.tagline]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Overview:"})," ",n.overview]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Genres:"})," ",n.genres&&n.genres.map((function(e){return e.name})).join(", ")]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Runtime:"})," ",n.runtime]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Release date:"})," ",n.release_date&&n.release_date.replace(/-/g,".")]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Status:"})," ",n.status]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"For adult:"})," ",n.adult?"YES":"NO"]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Original language:"})," ",n.original_language&&n.original_language.toUpperCase()]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Budget:"})," $ ",n.budget," "]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Revenue:"})," $ ",n.revenue]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Vote average:"})," ",n.vote_average]})]})]}),n.backdrop_path&&Object(a.jsxs)("div",{className:oe.a.bg1,children:[Object(a.jsx)("div",{className:oe.a.bg}),Object(a.jsx)("img",{className:oe.a.img,src:"https://image.tmdb.org/t/p/original".concat(n.backdrop_path),alt:""})]})]},Date.now()),i.length>0&&Object(a.jsx)(ve,{trailer:i})]})})),me=n(25),xe=n.n(me),Ne=function(e){var t=Object(p.c)((function(e){return e.favorites.favorites})),n=Object(p.c)((function(e){return e.favorites.results})),c=Object(p.b)();Object(r.useEffect)((function(){window.scrollTo(0,0),c(ne()),c(ae(t))}),[]),Object(r.useEffect)((function(){c(ae(t))}),[t]);var i=n.map((function(e){return Object(a.jsxs)("div",{className:xe.a.hidden,children:[Object(a.jsx)(g,{path:"movie/movie-".concat(e.id),date:e.release_date,title:e.title,id:e.id,poster:e.poster_path,favorite:!0},e.id),Object(a.jsx)("button",{className:xe.a.favoriteBtn,onClick:function(){return c((t=e.id,{type:ee,id:t}));var t},children:"delete"})]})}));return Object(a.jsx)("div",{className:xe.a.main,children:i.length>0?i:Object(a.jsx)("p",{children:"You don't have favorites movie"})})};var Pe=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(l,{}),Object(a.jsxs)("div",{className:"block",children:[Object(a.jsx)(j.b,{exact:!0,path:"/movie",render:function(){return Object(a.jsx)(ce,{})}}),Object(a.jsx)(j.b,{exact:!0,path:"/movie/:path",render:function(){return Object(a.jsx)(_e,{})}}),Object(a.jsx)(j.b,{exact:!0,path:"/favorite",render:function(){return Object(a.jsx)(Ne,{})}}),Object(a.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(j.a,{to:"/movie"})}})]})]})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Ee=n(15),Te=n(46),we=(n(79),Object(Ee.c)({moviePage:B,showInfo:Oe,favorites:re})),Se=Object(Ee.d)(we,Object(Ee.a)(Te.a));window.store=Se;var Ie=Se;Ie.getState(),i.a.render(Object(a.jsx)(s.a,{children:Object(a.jsx)(p.a,{store:Ie,children:Object(a.jsx)(Pe,{})})}),document.getElementById("root")),ye()}},[[80,1,2]]]);
//# sourceMappingURL=main.b33eb1ee.chunk.js.map