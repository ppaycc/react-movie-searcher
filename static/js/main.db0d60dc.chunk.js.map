{"version":3,"sources":["Components/Movie/ShowCard/ShowCard.module.scss","Components/Common/Pagination/Pagination.module.scss","Components/Header/Header.module.scss","Components/Movie/Movie.module.scss","Components/Favorite/Favorite.module.scss","Components/Common/Card/Card.module.scss","Components/Common/Trailer/Trailer.module.scss","Components/Common/InputForm/InputForm.module.scss","Components/Header/Header.jsx","Components/Common/photo_2020-12-28_16-51-34.jpg","Components/Common/Card/Card.jsx","Redux/MoviePage-reducer.js","Components/Common/Preloader.jsx","Components/Common/InputForm/InputForm.jsx","Components/Common/Pagination/Pagination.jsx","Redux/Favorite-reducer.js","Components/Movie/Movie.jsx","Redux/ShowCard-reducer.js","Components/Common/Trailer/Trailer.jsx","Components/Movie/ShowCard/ShowCard.jsx","Components/Favorite/Favorite.jsx","App.js","reportWebVitals.js","Redux/redux-store.js","index.js"],"names":["module","exports","Header","props","className","s","header","wrapper","to","activeClassName","active","Card","poster","img","card","favorite","path","src","title","date","replace","SET_NEW_RESULT","SET_TOTAL_PAGE","CHANGE_VALUE_MOVIE","NOT_FOUND","SET_CURRENT_PAGE","SET_IS_FETCHING","CHANGE_CURRENT_PORTION_FOR_PAGE","RESET_PORTION_COUNT","initialState","query","sought","textForPagination","currentPage","totalPage","result","noResult","isFetching","portionPage","url","changePortionPage","type","setIsFetching","setNewResult","setTotalPage","page","changeValueMovie","value","notFound","setCurrentPage","getNewItems","dispatch","Q","length","axios","then","response","data","results","total_pages","MovieReducer","state","action","Preloader","id","InputForm","useDispatch","input","placeholder","onKeyDown","e","keyCode","trim","clickEnter","onChange","currentTarget","onClick","Pagination","pages","i","push","portionCount","left","right","paginationBtn","disabled","paginationContainerItem","filter","p","map","paginationItemActive","paginationItem","clickOnPage","GET_FAVORITE","SET_FAVORITE","SET_FAVORITE_CARD","RESET_FAVORITE_ITEMS","DELETE_FAVORITE_ITEM","favorites","getFavorites","getFavoritesCard","item","a","arr","items","FavoriteReducer","JSON","parse","localStorage","getItem","newItem","kind","setItem","stringify","newArr","el","MoviePage","useSelector","moviePage","useEffect","window","scrollTo","movieCards","isFavorite","some","f","flex","SET_RESULT","SET_FETCHING","SET_TRAILER","SET_RECOMMENDED","trailer","recommendations","setFetching","setResultThunk","setTrailer","setRecommended","payload","showReducer","Trailer","target","href","key","name","main","ShowCardWithRouter","withRouter","showInfo","console","log","match","params","split","parseInt","setTrailerThunk","getRecommendedThunk","addToFavorite","setFavorite","setFv","fv","useState","posterLink","poster_path","mt10","description","tagline","overview","genres","join","runtime","release_date","status","adult","original_language","toUpperCase","budget","revenue","vote_average","backdrop_path","bg1","bg","alt","Date","now","isInFavorite","fa","recommendationsItem","Favorite","hidden","favoriteBtn","App","exact","render","Movie","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","getState","ReactDOM","document","getElementById"],"mappings":"sHACAA,EAAOC,QAAU,CAAC,KAAO,uBAAuB,IAAM,sBAAsB,GAAK,qBAAqB,IAAM,sBAAsB,MAAQ,wBAAwB,KAAO,uBAAuB,OAAS,yBAAyB,gBAAkB,kCAAkC,oBAAsB,wC,mBCA5SD,EAAOC,QAAU,CAAC,wBAA0B,4CAA4C,eAAiB,mCAAmC,qBAAuB,yCAAyC,cAAgB,oC,mBCA5ND,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,OAAS,yB,mBCA7FD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,MAAQ,qBAAqB,KAAO,sB,mBCAnFD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,YAAc,8BAA8B,OAAS,2B,mBCArGD,EAAOC,QAAU,CAAC,SAAW,uBAAuB,WAAa,yBAAyB,KAAO,qB,mBCAjGD,EAAOC,QAAU,CAAC,KAAO,sBAAsB,KAAO,wB,mBCAtDD,EAAOC,QAAU,CAAC,MAAQ,2B,8KCgBXC,EAbA,SAAAC,GACX,OACI,wBAAQC,UAAWC,IAAEC,OAArB,SACI,sBAAKF,UAAWC,IAAEE,QAAlB,UAEI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAEK,OAAxC,mBAEA,cAAC,IAAD,CAASF,GAAG,YAAYC,gBAAiBJ,IAAEK,OAA3C,6B,wBCXD,MAA0B,sDCiB1BC,EAbF,SAAAR,GACT,IAAIS,EAAST,EAAMS,OAAN,6CAAqDT,EAAMS,QAAWC,EACnF,OACI,sBAAKT,UAAS,UAAKC,IAAES,KAAP,YAAeT,IAAEF,EAAMY,SAAW,WAAa,eAA7D,UACI,cAAC,IAAD,CAASP,GAAE,WAAML,EAAMa,MAAvB,SACI,qBAAKC,IAAKL,MAEd,8BAAMT,EAAMe,QACZ,8BAAMf,EAAMgB,KAAOhB,EAAMgB,KAAKC,QAAQ,KAAM,KAAO,S,+CCVzDC,EAAiB,iBACjBC,EAAiB,iBACjBC,EAAqB,qBACrBC,EAAY,YACZC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAkC,kCAClCC,EAAsB,sBAEtBC,EAAe,CACjBC,MAAO,GACPC,OAAQ,GACRC,kBAAmB,GACnBC,YAAa,EACbC,UAAW,GACXC,OAAQ,GACRC,SAAS,yBACTC,YAAY,EACZC,YAAa,EACbC,IAAK,qGAqDIC,EAAoB,SAACF,GAC9B,MAAO,CAACG,KAAMd,EAAiCW,gBAE7CI,EAAgB,WAClB,MAAO,CAACD,KAAMf,IAEZiB,EAAe,SAACR,EAAQL,GAC1B,MAAO,CAACW,KAAMpB,EAAgBc,SAAQL,UAEpCc,EAAe,SAAAC,GACjB,MAAO,CAACJ,KAAMnB,EAAgBuB,SAErBC,EAAmB,SAAAC,GAC5B,MAAO,CAACN,KAAMlB,EAAoBwB,UAEhCC,EAAW,WACb,MAAO,CAACP,KAAMjB,IAEZyB,EAAiB,SAAAJ,GACnB,MAAO,CAACJ,KAAKhB,EAAkBoB,SAEtBK,EAAc,SAACX,GAA2B,IAAtBT,EAAqB,uDAAf,GAAIe,EAAW,uDAAN,EAC5C,OAAO,SAAAM,GACHA,EAAST,KACT,IAAIU,EAAItB,EAAMuB,OAAO,EAAb,iBAA2BvB,GAAU,GAC7CwB,MAAUf,EAAM,SAAWM,EAAOO,GAAGG,MAAK,SAAAC,GACD,IAAjCA,EAASC,KAAKC,QAAQL,QACtBF,EAASH,KACTG,EAASP,EAAa,KACtBO,EAASR,EAAa,GAAIb,IAC1BqB,EAAST,OAETS,EAASF,EAAeJ,IACxBM,EAASR,EAAaa,EAASC,KAAKC,QAAS5B,IAC7CqB,EAASP,EAAaY,EAASC,KAAKE,cACpCR,EAAST,WAOVkB,EA5FM,WAAmC,IAAlCC,EAAiC,uDAAzBhC,EAAciC,EAAW,uCACnD,OAAQA,EAAOrB,MACX,KAAKpB,EACD,OAAO,2BACAwC,GADP,IACc1B,OAAO,YAAK2B,EAAO3B,QAASJ,OAAQ+B,EAAOhC,MAAOA,MAAO,KAG3E,KAAKR,EACD,OAAO,2BACAuC,GADP,IACc3B,UAAW4B,EAAOjB,OAGpC,KAAKtB,EACD,OAAO,2BACAsC,GADP,IACc/B,MAAOgC,EAAOf,QAGhC,KAAKvB,EACD,OAAO,2BACAqC,GADP,IACczB,SAAU,kCAG5B,KAAKX,EACD,OAAO,2BACAoC,GADP,IACc5B,YAAa6B,EAAOjB,OAGtC,KAAKnB,EACD,OAAO,2BACAmC,GADP,IACcxB,YAAawB,EAAMxB,aAGrC,KAAKV,EACD,OAAO,2BACAkC,GADP,IACcvB,YAAauB,EAAMvB,YAAcwB,EAAOxB,cAG1D,KAAKV,EACD,OAAO,2BACAiC,GADP,IACcvB,YAAa,IAG/B,QACI,OAAOuB,IC/CJE,EAnBG,WACd,OACI,qBAAK3D,UAAU,YAAf,SACI,qBAAKA,UAAU,mBAAf,SACE,sBAAK4D,GAAG,mBAAR,UACI,qBAAK5D,UAAU,YAAY4D,GAAG,gBAC9B,qBAAK5D,UAAU,YAAY4D,GAAG,gBAC9B,qBAAK5D,UAAU,YAAY4D,GAAG,gBAC9B,qBAAK5D,UAAU,YAAY4D,GAAG,gBAC9B,qBAAK5D,UAAU,YAAY4D,GAAG,gBAC9B,qBAAK5D,UAAU,YAAY4D,GAAG,gBAC9B,qBAAK5D,UAAU,YAAY4D,GAAG,gBAC9B,qBAAK5D,UAAU,YAAY4D,GAAG,wB,iBCYjCC,EAtBG,SAAA9D,GACd,IAAMgD,EAAWe,cAajB,OACI,sBAAK9D,UAAWC,IAAE8D,MAAlB,UACI,uBAAOC,YAAY,eAAe3B,KAAK,OAAOM,MAAO5C,EAAM2B,MACpDuC,UAAW,SAAAC,GAAC,OAfR,SAAAA,GACE,KAAdA,EAAEC,SAAkBpE,EAAM2B,MAAM0C,OAAOnB,OAAS,GAC/CF,EAAShD,EAAM+C,YAAY/C,EAAMoC,IAAKpC,EAAM2B,QAavB2C,CAAWH,IACzBI,SAAU,SAACJ,GAAD,OAAKnB,EAAShD,EAAM2C,iBAAiBwB,EAAEK,cAAc5B,WACtE,wBAAQ6B,QAAS,WAVlBzE,EAAM2B,MAAM0C,OAAOnB,OAAS,GAC3BF,EAAShD,EAAM+C,YAAY/C,EAAMoC,IAAKpC,EAAM2B,SAS5C,wB,iBCiBG+C,EAnCI,SAAA1E,GAGf,IAFA,IAAMgD,EAAWe,cACbY,EAAQ,GACJC,EAAI,EAAGA,GAAG5E,EAAM+B,UAAW6C,IAC/BD,EAAME,KAAKD,GAGf,IAAME,EAAe9E,EAAM+B,UAAU,GAE/BgD,EAAgC,IAAxB/E,EAAMmC,YAAa,GAAU,EACrC6C,EAA4B,GAApBhF,EAAMmC,YAMpB,OACI,gCAEQ,wBAAQlC,UAAWC,IAAE+E,cAAeC,SAA8B,IAApBlF,EAAMmC,YAAiBsC,QAAS,kBAAIzB,EAAShD,EAAMqC,mBAAmB,KAApH,SAA0H,OAE9H,qBAAKpC,UAAWC,IAAEiF,wBAAlB,SAEQR,EAAMS,QAAO,SAAAC,GAAC,OAAGA,GAAKN,GAAQM,EAAIL,EAAO,KACpCM,KAAI,SAAAD,GACD,OAAO,sBAAcpF,UAAWD,EAAM8B,cAAcuD,EAAInF,IAAEqF,qBAAuBrF,IAAEsF,eAAgBf,QAAS,kBAbhH,SAACY,GACjBrC,EAAShD,EAAM+C,YAAY/C,EAAMoC,IAAKpC,EAAM4B,OAAQyD,IAYgFI,CAAYJ,IAArH,SAA0HA,GAA/GA,QAK9B,wBAAQpF,UAAWC,IAAE+E,cAAeC,SAAUJ,EAAe9E,EAAMmC,YAAasC,QAAS,kBAAIzB,EAAShD,EAAMqC,kBAAkB,KAA9H,SAAqI,W,yBChC/IqD,EAAe,eACfC,EAAe,eACfC,EAAoB,oBACpBC,EAAuB,uBACvBC,GAAuB,uBAEvBpE,GAAe,CACjBqE,UAAW,GACXxC,QAAS,IA6CAyC,GAAe,WACxB,MAAO,CAAC1D,KAAMoD,IAcLO,GAAmB,SAACC,GAC7B,8CAAO,WAAMlD,GAAN,iBAAAmD,EAAA,sDAEGC,EAAM,GACJxB,EAAI,EAHT,YAGYA,EAAIsB,EAAKhD,QAHrB,gCAKGC,MAAA,uCAA0C+C,EAAKtB,GAAGtC,KAAlD,YAA0D4D,EAAKtB,GAAGf,GAAlE,6DACDT,MAAK,SAAAC,GAEF+C,EAAIvB,KAAKxB,EAASC,SARvB,OAG6BsB,IAH7B,sBAYH5B,EArBG,CAACV,KAAMsD,EAAmBS,MAqBHD,IAZvB,2CAAP,uDAgBWE,GA1ES,WAAmC,IAAlC5C,EAAiC,uDAAzBhC,GAAciC,EAAW,uCACtD,OAAQA,EAAOrB,MAEX,KAAKoD,EACD,IAAMU,EAAMG,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,GAE5D,OAAO,2BACAhD,GADP,IACcqC,UAAWK,IAG7B,KAAKT,EACD,IAAMgB,EAAU,CAAC9C,GAAIF,EAAOE,GAAIvB,KAAMqB,EAAOiD,MACvCR,EAAMG,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,GAG5D,OAFAN,EAAIvB,KAAK8B,GACTF,aAAaI,QAAQ,WAAYN,KAAKO,UAAUV,IACzC,eACA1C,GAGX,KAAKkC,EACD,OAAO,2BACAlC,GADP,IACcH,QAAQ,YAAKI,EAAO0C,SAGtC,KAAKR,EACD,OAAO,2BACAnC,GADP,IACcH,QAAS,KAG3B,KAAKuC,GACD,IAAMiB,EAASrD,EAAMqC,UAAUX,QAAO,SAAA4B,GAAE,OAAGA,EAAGnD,KAAOF,EAAOE,MAE5D,OADA4C,aAAaI,QAAQ,WAAYN,KAAKO,UAAUC,IACzC,2BACArD,GADP,IACcqC,UAAU,YAAKgB,KAGjC,QACI,OAAOrD,ICwBJuD,GA/DG,SAAAjH,GACd,IAAMgD,EAAWe,cACXpC,EAAQuF,aAAY,SAAAxD,GAAK,OAAIA,EAAMyD,UAAUxF,SAC7CK,EAASkF,aAAY,SAAAxD,GAAK,OAAGA,EAAMyD,UAAUnF,UAC7CC,EAAWiF,aAAY,SAAAxD,GAAK,OAAGA,EAAMyD,UAAUlF,YAC/CG,EAAM8E,aAAY,SAAAxD,GAAK,OAAGA,EAAMyD,UAAU/E,OAC1CL,EAAYmF,aAAY,SAAAxD,GAAK,OAAGA,EAAMyD,UAAUpF,aAChDH,EAASsF,aAAY,SAAAxD,GAAK,OAAGA,EAAMyD,UAAUvF,UAC7CE,EAAcoF,aAAY,SAAAxD,GAAK,OAAGA,EAAMyD,UAAUrF,eAClDI,EAAagF,aAAY,SAAAxD,GAAK,OAAGA,EAAMyD,UAAUjF,cACjDC,EAAc+E,aAAY,SAAAxD,GAAK,OAAGA,EAAMyD,UAAUhF,eAClD4D,EAAYmB,aAAY,SAAAxD,GAAK,OAAGA,EAAMqC,UAAUA,aACtDqB,qBAAU,WACNpE,ELgDG,CAACV,KAAMb,MK/CZ,CAACG,IACHwF,qBAAU,WACNC,OAAOC,SAAS,EAAG,GACnBtE,EAASgD,QACV,IAIH,IAAMuB,EAAcvF,EAAOsD,KAAI,SAAAY,GAC3B,IAAMsB,EAAazB,EAAU0B,MAAK,SAAAC,GAAC,OAAGA,EAAE7D,KAAOqC,EAAKrC,MACpD,OAAO,cAAC,EAAD,CAAM7C,KAAMkF,EAAI,aACVnF,MAAOmF,EAAI,MACXrC,GAAIqC,EAAKrC,GACTpD,OAAQyF,EAAI,YACZrF,KAAI,sBAAiBqF,EAAKrC,IAE1BjD,SAAU4G,GADLtB,EAAKrC,OAK3B,OACI,qCACK3B,GAAc,cAAC,EAAD,IACf,sBAAKjC,UAAWC,IAAEyH,KAAlB,UACI,qBAAK1H,UAAWC,IAAEyE,MAAlB,SACK/C,EAAOsB,OAAS,EAAhB,8BAA2CtB,GAAW,KAE3D,cAAC,EAAD,CAAWD,MAAOA,EAAOoB,YAAaA,EAAaJ,iBAAkBA,EAAkBP,IAAKA,OAGhG,qBAAKnC,UAAWC,IAAEyE,MAAlB,SACK5C,EAAU,GAAK,cAAC,EAAD,CAAYA,UAAWA,EACZI,YAAaA,EACbY,YAAaA,EACbX,IAAKA,EACLR,OAAQA,EACRS,kBAAmBA,EACnBP,YAAaA,MAG5C,qBAAK7B,UAAWC,IAAEmG,MAAlB,SAE6B,IAAtBkB,EAAWrE,OAAeqE,EAAa,4BAAItF,U,6BCjExD2F,GAAa,aACbC,GAAe,eACfC,GAAc,cACdC,GAAkB,kBAElBrG,GAAe,CACjBM,OAAQ,GACRgG,QAAS,GACTC,gBAAiB,GACjB/F,YAAY,GA4BVgG,GAAa,WACf,MAAO,CAAC5F,KAAMuF,KAKLM,GAAiB,SAAC7F,EAAMuB,GACjC,OAAO,SAAAb,GACHA,EAASkF,MAET/E,MAAA,uCAA0Cb,EAA1C,YAAkDuB,EAAlD,6DACKT,MAAK,SAAAC,GARE,IAACrB,EASLgB,GATKhB,EASgBqB,EAASC,KARnC,CAAChB,KAAMsF,GAAY5F,YASdgB,EAASkF,WAInBE,GAAa,SAACJ,GAChB,MAAO,CAAC1F,KAAMwF,GAAaE,YAgBzBK,GAAiB,SAACC,GACpB,MAAO,CAAChG,KAAMyF,GAAiBO,YAapBC,GAzEK,WAAmC,IAAlC7E,EAAiC,uDAAzBhC,GAAciC,EAAW,uCAClD,OAAQA,EAAOrB,MACX,KAAKsF,GACD,OAAO,2BAAIlE,GAAX,IAAkB1B,OAAQ2B,EAAO3B,SAErC,KAAK8F,GACD,OAAO,2BACApE,GADP,IACcsE,QAASrE,EAAOqE,UAGlC,KAAKH,GACD,OAAO,2BACAnE,GADP,IACcxB,YAAawB,EAAMxB,aAGrC,KAAK6F,GACD,OAAO,2BACArE,GADP,IACcuE,gBAAiBtE,EAAO2E,UAG1C,QACI,OAAO5E,I,oBCrBJ8E,GAZC,SAAC,GAAe,IACtBnC,EADqB,EAAb2B,QACQ1C,KAAI,SAAA0B,GACtB,OAAO,mBAAeyB,OAAO,SAASC,KAAI,0CAAqC1B,EAAG2B,KAA3E,SAAmF3B,EAAG4B,MAA9E5B,EAAGnD,OAEtB,OACI,sBAAK5D,UAAWC,KAAE2I,KAAlB,UACI,2CACA,qBAAK5I,UAAWC,KAAEyH,KAAlB,SAAyBtB,QC8FtByC,GAFYC,aA1FV,SAAA/I,GACb,IAAMgD,EAAWe,cACXT,EAAO4D,aAAY,SAAAxD,GAAK,OAAIA,EAAMsF,SAAShH,UAC3CE,EAAagF,aAAY,SAAAxD,GAAK,OAAIA,EAAMsF,SAAS9G,cACjD8F,EAAUd,aAAY,SAAAxD,GAAK,OAAIA,EAAMsF,SAAShB,WAC9CjC,EAAYmB,aAAY,SAAAxD,GAAK,OAAIA,EAAMqC,UAAUA,aACjDkC,EAAkBf,aAAY,SAAAxD,GAAK,OAAIA,EAAMsF,SAASf,mBACtDvE,EAAQwD,aAAY,SAAAxD,GAAK,OAAIA,EAAMqC,aACzCkD,QAAQC,IAAIxF,GAEZ,IAAMpB,EAAOtC,EAAMmJ,MAAMC,OAAOvI,KAAKwI,MAAM,KAAK,GAC1CxF,EAAKyF,SAAStJ,EAAMmJ,MAAMC,OAAOvI,KAAKwI,MAAM,KAAK,IASvDjC,qBAAU,WACNC,OAAOC,SAAS,EAAG,GACnBtE,EAASmF,GAAe7F,EAAMuB,IAC9Bb,EFyBuB,SAAAa,GAC3B,OAAO,SAAAb,GACHG,MAAA,6CAAgDU,EAAhD,sEAEKT,MAAK,SAAAC,GACCA,EAASC,KAAKC,QAAQL,OAAS,EAC9BF,EAASoF,GAAW/E,EAASC,KAAKC,UAGlCP,EAASoF,GAAW,SElCvBmB,CAAgB1F,IACzBb,EFyC2B,SAACV,EAAMuB,GAAkB,IAAdnB,EAAa,uDAAN,EACjD,OAAO,SAAAM,GACHG,MAAA,uCAA0Cb,EAA1C,YAAkDuB,EAAlD,yFAAqInB,EAArI,OAEKU,MAAK,SAAAC,GACFL,EAASqF,GAAehF,EAASC,KAAKC,cE9CrCiG,CAAoBlH,EAAMuB,IACnCb,EAASgD,QACV,CAAC1D,EAAMuB,IACV,IAAM4F,EAAgB,SAACnH,EAAMuB,GACzBb,EJmBmB,SAAC4D,EAAM/C,GAC9B,MAAO,CAACvB,KAAMqD,EAAciB,OAAM/C,MIpBrB6F,CAAYpH,EAAMuB,IAC3B8F,GAAM,SAAAC,GAAE,OAAKA,MAEXpC,EAAazB,EAAU0B,MAAK,SAAAvB,GAAI,OAAGA,EAAKrC,KAAKA,KA/B7B,EAgCFgG,mBAASrC,GAhCP,oBAgCfoC,EAhCe,KAgCXD,EAhCW,KAiClBC,IAAOpC,GACPmC,GAAM,SAAAC,GAAE,OAAKA,KAGjBX,QAAQC,IAAInD,GACZkD,QAAQC,IAAI,aAAa1B,EAAY,KAAMoC,GAC3C,IAAIE,EAAa,sCAAwCxG,EAAKyG,YAC9D,OACI,qCACKH,GAAM,wBAAQnF,QAAS,kBAAMgF,EAAcnH,EAAMuB,IAA3C,6BACN3B,GAAc,cAAC,EAAD,IACf,sBAAKjC,UAAWC,KAAE8J,KAAlB,UACI,sBAAK/J,UAAWC,KAAE2I,KAAlB,UACI,qBAAK/H,IAAKwC,EAAKyG,YAAcD,EAAarJ,EAAQR,UAAWC,KAAEO,SAC/D,sBAAKR,UAAWC,KAAE+J,YAAlB,UACI,6BAAK3G,EAAKvC,QACRuC,EAAK4G,SAAW,8BAAG,yCAAH,IAAoB5G,EAAK4G,WAC1C5G,EAAK6G,UAAY,8BAAG,0CAAH,IAAqB7G,EAAK6G,YAC3C7G,EAAK8G,QAAU,8BAAG,wCAAH,IAAmB9G,EAAK8G,OAAO9E,KAAI,SAAAY,GAAI,OAAIA,EAAK0C,QAAMyB,KAAK,SAC1E/G,EAAKgH,QAAQ,GAAK,8BAAG,yCAAH,IAAoBhH,EAAKgH,WAC3ChH,EAAKiH,cAAgB,8BAAG,8CAAH,IAAyBjH,EAAKiH,aAAatJ,QAAQ,KAAM,QAC/E,8BAAG,wCAAH,IAAmBqC,EAAKkH,UACxB,8BAAG,2CAAH,IAAsBlH,EAAKmH,MAAQ,MAAQ,QAC1CnH,EAAKoH,mBAAqB,8BAAG,mDAAH,IAA8BpH,EAAKoH,kBAAkBC,iBAE/ErH,EAAKsH,OAAO,GAAK,8BAAG,wCAAH,MAAqBtH,EAAKsH,OAA1B,OACjBtH,EAAKuH,QAAQ,GAAK,8BAAG,yCAAH,MAAsBvH,EAAKuH,WAC7CvH,EAAKwH,aAAa,GAAK,8BAAG,8CAAH,IAAyBxH,EAAKwH,sBAG7DxH,EAAKyH,eACN,sBAAK9K,UAAWC,KAAE8K,IAAlB,UACI,qBAAK/K,UAAWC,KAAE+K,KAClB,qBAAKhL,UAAWC,KAAEQ,IAAKI,IAAG,6CAAwCwC,EAAKyH,eAAiBG,IAAI,UAtBvEC,KAAKC,OA0BjCpD,EAAQ9E,OAAO,GAAK,cAAC,GAAD,CAAS8E,QAASA,IACtCC,EAAgB/E,OAAO,GAAK,yCAAG,iDAAwB,qBAAKjD,UAAWC,KAAE+H,gBAAlB,SACnDA,EAAgB3C,KAAI,SAAAY,GACjB,IAAMmF,EAAetF,EAAU0B,MAAK,SAAA6D,GAAE,OAAGA,EAAGzH,KAAKqC,EAAKrC,MACtD,OAAO,qBAAK5D,UAAWC,KAAEqL,oBAAlB,SACH,cAAC,EAAD,CACIvK,KAAMkF,EAAI,aACVnF,MAAOmF,EAAI,MACXrC,GAAIqC,EAAKrC,GACTpD,OAAQyF,EAAI,YACZrF,KAAI,sBAAiBqF,EAAKrC,IAC1BjD,SAAUyK,KAPiCnF,EAAKrC,kB,oBCzC7D2H,GAtCE,SAACxL,GAEd,IAAM+F,EAAYmB,aAAY,SAAAxD,GAAK,OAAGA,EAAMqC,UAAUA,aAChD/D,EAASkF,aAAY,SAAAxD,GAAK,OAAGA,EAAMqC,UAAUxC,WAC7CP,EAAWe,cACjBqD,qBAAU,WACNC,OAAOC,SAAS,EAAG,GACnBtE,EAASgD,MACThD,EAASiD,GAAiBF,MAC3B,IAEHqB,qBAAU,WACNpE,EAASiD,GAAiBF,MAC3B,CAACA,IAEJ,IAAMM,EAAQrE,EAAOsD,KAAI,SAAAY,GACrB,OACI,sBAAKjG,UAAWC,KAAEuL,OAAlB,UACI,cAAC,EAAD,CAAM5K,KAAI,sBAAiBqF,EAAKrC,IAC1B7C,KAAMkF,EAAI,aACVnF,MAAOmF,EAAI,MACXrC,GAAIqC,EAAKrC,GACTpD,OAAQyF,EAAI,YAEZtF,UAAU,GADLsF,EAAKrC,IAGhB,wBAAQ5D,UAAWC,KAAEwL,YAAajH,QAAS,kBAAIzB,GLmC7Ba,EKnCyDqC,EAAKrC,GLoCrF,CAACvB,KAAMwD,GAAsBjC,QADN,IAAAA,GKnClB,0BAKZ,OACI,qBAAK5D,UAAWC,KAAE2I,KAAlB,SACKxC,EAAMnD,OAAO,EAAImD,EAAQ,kECbvBsF,OAlBf,WACE,OACE,sBAAK1L,UAAU,MAAf,UACI,cAAC,EAAD,IACA,sBAAKA,UAAU,QAAf,UAEA,cAAC,IAAD,CAAO2L,OAAK,EAAC/K,KAAK,SAASgL,OAAQ,kBAAK,cAACC,GAAD,OACxC,cAAC,IAAD,CAAOF,OAAK,EAAC/K,KAAK,eAAegL,OAAQ,kBAAK,cAAC,GAAD,OAE9C,cAAC,IAAD,CAAOD,OAAK,EAAC/K,KAAK,YAAYgL,OAAQ,kBAAK,cAAC,GAAD,OAE3C,cAAC,IAAD,CAAOD,OAAK,EAAC/K,KAAK,IAAIgL,OAAQ,kBAAK,cAAC,IAAD,CAAUxL,GAAG,qBCPzC0L,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB7I,MAAK,YAAkD,IAA/C8I,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,kBCCRO,I,MAAWC,aAAgB,CAE7BrF,UAAW1D,EAEXuF,SAAUT,GACVxC,UAAWO,MAGTmG,GAAQC,aAAYH,GAAUI,aAAgBC,OAEpDvF,OAAOoF,MAAQA,GAEAA,UCAFA,GAAMI,WATfC,IAASjB,OACL,cAAC,IAAD,UACI,cAAC,IAAD,CAAUY,MAAOA,GAAjB,SACI,cAAC,GAAD,QAGRM,SAASC,eAAe,SAQhCjB,O","file":"static/js/main.db0d60dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mt10\":\"ShowCard_mt10__2pVg8\",\"img\":\"ShowCard_img__swRJs\",\"bg\":\"ShowCard_bg__3AVMK\",\"bg1\":\"ShowCard_bg1__5l88b\",\"imgBg\":\"ShowCard_imgBg__3c7MH\",\"main\":\"ShowCard_main__3gcv3\",\"poster\":\"ShowCard_poster__3C2-o\",\"recommendations\":\"ShowCard_recommendations__2DMN-\",\"recommendationsItem\":\"ShowCard_recommendationsItem__fDiGa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationContainerItem\":\"Pagination_paginationContainerItem__2n1c_\",\"paginationItem\":\"Pagination_paginationItem__3CuWt\",\"paginationItemActive\":\"Pagination_paginationItemActive__1Osn8\",\"paginationBtn\":\"Pagination_paginationBtn__1Diwq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header___AbcZ\",\"wrapper\":\"Header_wrapper__35Sya\",\"active\":\"Header_active__7XzYf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Movie_items__3ajfD\",\"pages\":\"Movie_pages__39u8f\",\"flex\":\"Movie_flex__1EVK4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Favorite_main__2wrHT\",\"favoriteBtn\":\"Favorite_favoriteBtn__2SqsX\",\"hidden\":\"Favorite_hidden__1Ex1G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"favorite\":\"Card_favorite__3V9qY\",\"noFavorite\":\"Card_noFavorite__22t-v\",\"card\":\"Card_card__1l8-H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Trailer_main__2gjuo\",\"flex\":\"Trailer_flex__2V65P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"InputForm_input__1dAND\"};","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Header.module.scss'\r\n\r\nconst Header = props => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.wrapper}>\r\n                {/*<NavLink to='/trending' activeClassName={s.active}>Trending</NavLink>*/}\r\n                <NavLink to='/movie' activeClassName={s.active}>Movie</NavLink>\r\n                {/*<NavLink to='/tvshow' activeClassName={s.active}>TV show</NavLink>*/}\r\n                <NavLink to='/favorite' activeClassName={s.active}>Favorites</NavLink>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/photo_2020-12-28_16-51-34.c89219cf.jpg\";","import s from './Card.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport img from '../photo_2020-12-28_16-51-34.jpg';\r\n\r\nconst Card = props => {\r\n    let poster = props.poster ? `https://image.tmdb.org/t/p/original${props.poster}` : img;\r\n    return (\r\n        <div className={`${s.card} ${s[props.favorite ? \"favorite\" : \"noFavorite\"]}`}>\r\n            <NavLink to={`/${props.path}`}>\r\n                <img src={poster} />\r\n            </NavLink>\r\n            <div>{props.title}</div>\r\n            <div>{props.date ? props.date.replace(/-/g, \"/\") : ''}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import * as axios from \"axios\";\r\n\r\nconst SET_NEW_RESULT = 'SET_NEW_RESULT';\r\nconst SET_TOTAL_PAGE = 'SET_TOTAL_PAGE';\r\nconst CHANGE_VALUE_MOVIE = 'CHANGE_VALUE_MOVIE';\r\nconst NOT_FOUND = 'NOT_FOUND';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_IS_FETCHING = 'SET_IS_FETCHING';\r\nconst CHANGE_CURRENT_PORTION_FOR_PAGE = 'CHANGE_CURRENT_PORTION_FOR_PAGE';\r\nconst RESET_PORTION_COUNT = 'RESET_PORTION_COUNT';\r\n\r\nconst initialState = {\r\n    query: '',\r\n    sought: '',\r\n    textForPagination: '',\r\n    currentPage: 1,\r\n    totalPage: '',\r\n    result: [],\r\n    noResult: `You can find something`,\r\n    isFetching: false,\r\n    portionPage: 1,\r\n    url: 'https://api.themoviedb.org/3/search/movie?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US'\r\n}\r\n\r\nconst MovieReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_NEW_RESULT :{\r\n            return {\r\n                ...state, result: [...action.result], sought: action.query, query: ''\r\n            }\r\n        }\r\n        case SET_TOTAL_PAGE :{\r\n            return {\r\n                ...state, totalPage: action.page\r\n            }\r\n        }\r\n        case CHANGE_VALUE_MOVIE :{\r\n            return {\r\n                ...state, query: action.value\r\n            }\r\n        }\r\n        case NOT_FOUND :{\r\n            return {\r\n                ...state, noResult: \"I couldn't find it. Try again\"\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE :{\r\n            return {\r\n                ...state, currentPage: action.page\r\n            }\r\n        }\r\n        case SET_IS_FETCHING :{\r\n            return {\r\n                ...state, isFetching: !state.isFetching\r\n            }\r\n        }\r\n        case CHANGE_CURRENT_PORTION_FOR_PAGE :{\r\n            return {\r\n                ...state, portionPage: state.portionPage + action.portionPage\r\n            }\r\n        }\r\n        case RESET_PORTION_COUNT :{\r\n            return {\r\n                ...state, portionPage: 1\r\n            }\r\n        }\r\n        default : {\r\n            return state;\r\n        }\r\n    }\r\n}\r\nexport const resetPortionCount = () => {\r\n    return {type: RESET_PORTION_COUNT}\r\n}\r\nexport const changePortionPage = (portionPage) => {\r\n    return {type: CHANGE_CURRENT_PORTION_FOR_PAGE, portionPage}\r\n}\r\nconst setIsFetching = () => {\r\n    return {type: SET_IS_FETCHING}\r\n}\r\nconst setNewResult = (result, query) => {\r\n    return {type: SET_NEW_RESULT, result, query }\r\n}\r\nconst setTotalPage = page => {\r\n    return {type: SET_TOTAL_PAGE, page}\r\n}\r\nexport const changeValueMovie = value => {\r\n    return {type: CHANGE_VALUE_MOVIE, value}\r\n}\r\nconst notFound = () => {\r\n    return {type: NOT_FOUND}\r\n}\r\nconst setCurrentPage = page => {\r\n    return {type:SET_CURRENT_PAGE, page}\r\n}\r\nexport const getNewItems = (url, query=\"\", page=1) => {\r\n    return dispatch => {\r\n        dispatch(setIsFetching());\r\n        let Q = query.length>0 ? `&query=${query}` : '';\r\n        axios.get(url + \"&page=\" + page + Q).then(response => {\r\n            if (response.data.results.length === 0){\r\n                dispatch(notFound());\r\n                dispatch(setTotalPage(''))\r\n                dispatch(setNewResult([], query));\r\n                dispatch(setIsFetching());\r\n            } else {\r\n                dispatch(setCurrentPage(page))\r\n                dispatch(setNewResult(response.data.results, query));\r\n                dispatch(setTotalPage(response.data.total_pages));\r\n                dispatch(setIsFetching());\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport default MovieReducer;","\r\nconst Preloader = () => {\r\n    return (\r\n        <div className='preloader'>\r\n            <div className='preloaderWrapper'>\r\n              <div id=\"floatingCirclesG\">\r\n                  <div className=\"f_circleG\" id=\"frotateG_01\"></div>\r\n                  <div className=\"f_circleG\" id=\"frotateG_02\"></div>\r\n                  <div className=\"f_circleG\" id=\"frotateG_03\"></div>\r\n                  <div className=\"f_circleG\" id=\"frotateG_04\"></div>\r\n                  <div className=\"f_circleG\" id=\"frotateG_05\"></div>\r\n                  <div className=\"f_circleG\" id=\"frotateG_06\"></div>\r\n                  <div className=\"f_circleG\" id=\"frotateG_07\"></div>\r\n                  <div className=\"f_circleG\" id=\"frotateG_08\"></div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import s from \"./InputForm.module.scss\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst InputForm = props => {\r\n    const dispatch = useDispatch();\r\n    const clickEnter = e => {\r\n        if(e.keyCode === 13 && props.query.trim().length > 0){\r\n            dispatch(props.getNewItems(props.url, props.query))\r\n        }\r\n    }\r\n\r\n    const clickButton = () => {\r\n        if(props.query.trim().length > 0){\r\n            dispatch(props.getNewItems(props.url, props.query))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.input}>\r\n            <input placeholder=\"Type here...\" type=\"text\" value={props.query}\r\n                   onKeyDown={e=>clickEnter(e)}\r\n                   onChange={(e)=>dispatch(props.changeValueMovie(e.currentTarget.value))}/>\r\n            <button onClick={()=>clickButton()}>Search</button>\r\n        </div>    )\r\n}\r\nexport default InputForm;","import React from \"react\";\r\nimport s from './Pagination.module.scss';\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst Pagination = props => {\r\n    const dispatch = useDispatch();\r\n    let pages = [];\r\n    for(let i = 1; i<=props.totalPage; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = props.totalPage/10;\r\n    // const [portionNumber, setPortionNumber] = useState(1);\r\n    const left = (props.portionPage -1) * 10 + 1;\r\n    const right = props.portionPage * 10;\r\n\r\n    const clickOnPage = (p) => {\r\n        dispatch(props.getNewItems(props.url, props.sought, p))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                <button className={s.paginationBtn} disabled={props.portionPage===1} onClick={()=>dispatch(props.changePortionPage(-1))}>{\"<<\"}</button>\r\n            }\r\n            <div className={s.paginationContainerItem}>\r\n                {\r\n                    pages.filter(p=> p >= left && p < right +1)\r\n                        .map(p=>{\r\n                            return <span key={p} className={props.currentPage===p ? s.paginationItemActive : s.paginationItem} onClick={()=>clickOnPage(p)}>{p}</span>\r\n                        })\r\n                }\r\n            </div>\r\n            {\r\n                <button className={s.paginationBtn} disabled={portionCount < props.portionPage} onClick={()=>dispatch(props.changePortionPage(+1))}>{'>>'}</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default Pagination;","import * as axios from 'axios';\r\n\r\nconst GET_FAVORITE = 'GET_FAVORITE';\r\nconst SET_FAVORITE = 'SET_FAVORITE';\r\nconst SET_FAVORITE_CARD = 'SET_FAVORITE_CARD';\r\nconst RESET_FAVORITE_ITEMS = 'RESET_FAVORITE_ITEMS';\r\nconst DELETE_FAVORITE_ITEM = 'DELETE_FAVORITE_ITEM';\r\n\r\nconst initialState = {\r\n    favorites: [],\r\n    results: []\r\n}\r\n\r\nconst FavoriteReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n\r\n        case GET_FAVORITE :{\r\n            const arr = JSON.parse(localStorage.getItem('favorite')) || [];\r\n            // const arr = [{id:603, types:123123123}, {id:604, types:21212}]\r\n            return {\r\n                ...state, favorites: arr\r\n            }\r\n        }\r\n        case SET_FAVORITE :{\r\n            const newItem = {id: action.id, type: action.kind}\r\n            const arr = JSON.parse(localStorage.getItem('favorite')) || []\r\n            arr.push(newItem);\r\n            localStorage.setItem('favorite', JSON.stringify(arr))\r\n            return {\r\n                ...state\r\n            }\r\n        }\r\n        case SET_FAVORITE_CARD :{\r\n            return {\r\n                ...state, results: [...action.items]\r\n            }\r\n        }\r\n        case RESET_FAVORITE_ITEMS :{\r\n            return {\r\n                ...state, results: []\r\n            }\r\n        }\r\n        case DELETE_FAVORITE_ITEM :{\r\n            const newArr = state.favorites.filter(el=> el.id !== action.id);\r\n            localStorage.setItem('favorite', JSON.stringify(newArr))\r\n            return {\r\n                ...state, favorites: [...newArr]\r\n            }\r\n        }\r\n        default :{\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nexport const getFavorites = () => {\r\n    return {type: GET_FAVORITE}\r\n}\r\nexport const setFavorite = (kind, id) => {\r\n    return {type: SET_FAVORITE, kind, id}\r\n}\r\nconst setFavoritesCard = (items) => {\r\n    return {type: SET_FAVORITE_CARD, items}\r\n}\r\nexport const resetFavoriteItems = () => {\r\n    return {type: RESET_FAVORITE_ITEMS}\r\n}\r\nexport const deleteFavoriteItem = id => {\r\n    return {type: DELETE_FAVORITE_ITEM, id}\r\n}\r\nexport const getFavoritesCard = (item) => {\r\n    return async dispatch => {\r\n        // dispatch(resetFavoriteItems());\r\n        const arr = [];\r\n        for(let i = 0; i < item.length; i++){\r\n\r\n        await axios.get(`https://api.themoviedb.org/3/${item[i].type}/${item[i].id}?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US`)\r\n            .then(response=>{\r\n                // debugger\r\n                arr.push(response.data)\r\n                // dispatch(setFavoritesCard(response.data));\r\n            })\r\n        }\r\n        dispatch(setFavoritesCard(arr));\r\n    }\r\n}\r\n\r\nexport default FavoriteReducer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import Card from \"../Common/Card/Card\";\r\nimport s from './Movie.module.scss'\r\nimport {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changePortionPage, changeValueMovie, getNewItems, resetPortionCount} from \"../../Redux/MoviePage-reducer\";\r\nimport React from 'react'\r\nimport Preloader from \"../Common/Preloader\";\r\nimport InputForm from \"../Common/InputForm/InputForm\";\r\nimport Pagination from \"../Common/Pagination/Pagination\";\r\nimport {getFavorites} from \"../../Redux/Favorite-reducer\";\r\n\r\nconst MoviePage = props => {\r\n    const dispatch = useDispatch();\r\n    const query = useSelector(state => state.moviePage.query);\r\n    const result = useSelector(state=> state.moviePage.result);\r\n    const noResult = useSelector(state=> state.moviePage.noResult);\r\n    const url = useSelector(state=> state.moviePage.url);\r\n    const totalPage = useSelector(state=> state.moviePage.totalPage);\r\n    const sought = useSelector(state=> state.moviePage.sought);\r\n    const currentPage = useSelector(state=> state.moviePage.currentPage);\r\n    const isFetching = useSelector(state=> state.moviePage.isFetching);\r\n    const portionPage = useSelector(state=> state.moviePage.portionPage);\r\n    const favorites = useSelector(state=> state.favorites.favorites);\r\n    useEffect(()=>{\r\n        dispatch(resetPortionCount())\r\n    },[sought])\r\n    useEffect(()=>{\r\n        window.scrollTo(0, 0);\r\n        dispatch(getFavorites());\r\n    }, [])\r\n\r\n\r\n    // const favorites = [{id:603, type: 'movie'}, {id:2374, type: 'movie'}, {id:25675, type: 'tv'}, {id:2234, type: 'tv'}]\r\n    const movieCards =  result.map(item =>{\r\n        const isFavorite = favorites.some(f=> f.id === item.id )\r\n        return <Card date={item['release_date']}\r\n                     title={item['title']}\r\n                     id={item.id}\r\n                     poster={item[\"poster_path\"]}\r\n                     path={`movie/movie-${item.id}`}\r\n                     key={item.id}\r\n                     favorite={isFavorite}\r\n        />\r\n    })\r\n\r\n    return (\r\n        <>\r\n            {isFetching && <Preloader/>}\r\n            <div className={s.flex}>\r\n                <div className={s.pages}>\r\n                    {sought.length > 0 ? `Results on request: ${sought}` : \"\"}\r\n                </div>\r\n                <InputForm query={query} getNewItems={getNewItems} changeValueMovie={changeValueMovie} url={url}/>\r\n            </div>\r\n\r\n            <div className={s.pages}>\r\n                {totalPage>0 && <Pagination totalPage={totalPage}\r\n                                           portionPage={portionPage}\r\n                                           getNewItems={getNewItems}\r\n                                           url={url}\r\n                                           sought={sought}\r\n                                           changePortionPage={changePortionPage}\r\n                                           currentPage={currentPage}\r\n                />}\r\n            </div>\r\n            <div className={s.items}>\r\n                {\r\n                   movieCards.length !== 0 ? movieCards : <p>{noResult}</p>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MoviePage;","import * as axios from \"axios\";\r\n\r\nconst SET_RESULT = 'SET_RESULT';\r\nconst SET_FETCHING = 'SET_FETCHING';\r\nconst SET_TRAILER = 'SET_TRAILER';\r\nconst SET_RECOMMENDED = 'SET_RECOMMENDED';\r\n\r\nconst initialState = {\r\n    result: {},\r\n    trailer: [],\r\n    recommendations: [],\r\n    isFetching: false\r\n}\r\n\r\nconst showReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_RESULT : {\r\n            return {...state, result: action.result}\r\n        }\r\n        case SET_TRAILER :{\r\n            return {\r\n                ...state, trailer: action.trailer\r\n            }\r\n        }\r\n        case SET_FETCHING :{\r\n            return {\r\n                ...state, isFetching: !state.isFetching\r\n            }\r\n        }\r\n        case SET_RECOMMENDED :{\r\n            return {\r\n                ...state, recommendations: action.payload\r\n            }\r\n        }\r\n        default : {\r\n            return state;\r\n        }\r\n    }\r\n}\r\nconst setFetching =() => {\r\n    return {type: SET_FETCHING}\r\n}\r\nconst setResultAC = (result) => {\r\n    return {type: SET_RESULT, result}\r\n}\r\nexport const setResultThunk = (type, id) => {\r\n    return dispatch => {\r\n        dispatch(setFetching());\r\n        // window.scrollTo(0,0);\r\n        axios.get(`https://api.themoviedb.org/3/${type}/${id}?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US`)\r\n            .then(response => {\r\n                dispatch(setResultAC(response.data));\r\n                dispatch(setFetching());\r\n            })\r\n    }\r\n}\r\nconst setTrailer = (trailer) => {\r\n    return {type: SET_TRAILER, trailer}\r\n}\r\nexport const setTrailerThunk = id => {\r\n    return dispatch => {\r\n        axios.get(`https://api.themoviedb.org/3/movie/${id}/videos?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US\r\n`)\r\n            .then(response=>{\r\n                if(response.data.results.length > 0){\r\n                    dispatch(setTrailer(response.data.results))\r\n                }\r\n                else{\r\n                    dispatch(setTrailer([]));\r\n                }\r\n            })\r\n    }\r\n}\r\nconst setRecommended = (payload) => {\r\n    return {type: SET_RECOMMENDED, payload}\r\n}\r\nexport const getRecommendedThunk = (type, id, page = 1) => {\r\n    return dispatch => {\r\n        axios.get(`https://api.themoviedb.org/3/${type}/${id}/recommendations?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US&page=${page}\r\n`)\r\n            .then(response=> {\r\n                dispatch(setRecommended(response.data.results))\r\n            })\r\n    }\r\n}\r\n// https://api.themoviedb.org/3/movie/603/recommendations?api_key=7f3d862c78d7078a1d152442970fcce6&language=en-US&page=1\r\n\r\nexport default showReducer;","import s from './Trailer.module.scss';\r\n\r\nconst Trailer = ({trailer}) => {\r\n    const items = trailer.map(el=>{\r\n        return <a key={el.id} target='_blank' href={`https://www.youtube.com/watch?v=${el.key}`}>{el.name}</a>\r\n    })\r\n    return (\r\n        <div className={s.main}>\r\n            <h2>Trailers:</h2>\r\n            <div className={s.flex}>{items}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Trailer;","import s from './ShowCard.module.scss';\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getRecommendedThunk, setResultThunk, setTrailerThunk} from \"../../../Redux/ShowCard-reducer\";\r\nimport poster from '../../Common/photo_2020-12-28_16-51-34.jpg';\r\nimport Preloader from \"../../Common/Preloader\";\r\nimport Trailer from \"../../Common/Trailer/Trailer\";\r\nimport {getFavorites, setFavorite} from \"../../../Redux/Favorite-reducer\";\r\nimport Card from \"../../Common/Card/Card\";\r\n\r\nconst ShowCard = props => {\r\n    const dispatch = useDispatch();\r\n    const data = useSelector(state => state.showInfo.result);\r\n    const isFetching = useSelector(state => state.showInfo.isFetching);\r\n    const trailer = useSelector(state => state.showInfo.trailer);\r\n    const favorites = useSelector(state => state.favorites.favorites);\r\n    const recommendations = useSelector(state => state.showInfo.recommendations);\r\n    const state = useSelector(state => state.favorites);\r\n    console.log(state)\r\n\r\n    const type = props.match.params.path.split('-')[0];\r\n    const id = parseInt(props.match.params.path.split('-')[1]);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     window.scrollTo(0, 0,);\r\n    //     dispatch(setResultThunk(type, id));\r\n    //     dispatch(setTrailerThunk(id));\r\n    //     dispatch(getRecommendedThunk(type, id));\r\n    // }, [])\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0,);\r\n        dispatch(setResultThunk(type, id));\r\n        dispatch(setTrailerThunk(id));\r\n        dispatch(getRecommendedThunk(type, id));\r\n        dispatch(getFavorites());\r\n    }, [type, id])\r\n    const addToFavorite = (type, id) => {\r\n        dispatch(setFavorite(type, id))\r\n        setFv(fv => !fv);\r\n    }\r\n    const isFavorite = favorites.some(item=> item.id===id);\r\n    const [fv, setFv] = useState(isFavorite);\r\n    if (fv !== isFavorite){\r\n        setFv(fv => !fv);\r\n    }\r\n    // console.log(favorites.length>0 && isFavorite ? \"false\" : \"true\")\r\n    console.log(favorites)\r\n    console.log(\"isFavorite\",isFavorite, \"fv\", fv);\r\n    let posterLink = 'https://image.tmdb.org/t/p/original' + data.poster_path;\r\n    return (\r\n        <>\r\n            {fv || <button onClick={() => addToFavorite(type, id)}>Add to favorite</button>}\r\n            {isFetching && <Preloader/>}\r\n            <div className={s.mt10} key={Date.now()}>\r\n                <div className={s.main}>\r\n                    <img src={data.poster_path ? posterLink : poster} className={s.poster}/>\r\n                    <div className={s.description}>\r\n                        <h2>{data.title}</h2>\r\n                        { data.tagline && <p><b>Tagline:</b> {data.tagline}</p>}\r\n                        {data.overview && <p><b>Overview:</b> {data.overview}</p>}\r\n                        {data.genres && <p><b>Genres:</b> {data.genres.map(item => item.name).join(\", \")}</p>}\r\n                        {data.runtime>0 && <p><b>Runtime:</b> {data.runtime}</p>}\r\n                        {data.release_date && <p><b>Release date:</b> {data.release_date.replace(/-/g, \".\")}</p>}\r\n                        <p><b>Status:</b> {data.status}</p>\r\n                        <p><b>For adult:</b> {data.adult ? \"YES\" : \"NO\"}</p>\r\n                        {data.original_language && <p><b>Original language:</b> {data.original_language.toUpperCase()}\r\n                        </p>}\r\n                        {data.budget>0 && <p><b>Budget:</b> $ {data.budget} </p>}\r\n                        {data.revenue>0 && <p><b>Revenue:</b> $ {data.revenue}</p>}\r\n                        {data.vote_average>0 && <p><b>Vote average:</b> {data.vote_average}</p>}\r\n                    </div>\r\n                </div>\r\n                {data.backdrop_path &&\r\n                <div className={s.bg1}>\r\n                    <div className={s.bg}/>\r\n                    <img className={s.img} src={`https://image.tmdb.org/t/p/original${data.backdrop_path}`} alt=\"\"/>\r\n                </div>\r\n                }\r\n            </div>\r\n            {trailer.length>0 && <Trailer trailer={trailer}/>}\r\n            {recommendations.length>0 && <> <h2>Recommendations</h2><div className={s.recommendations}>\r\n                {recommendations.map(item=>{\r\n                    const isInFavorite = favorites.some(fa=> fa.id===item.id);\r\n                    return <div className={s.recommendationsItem} key={item.id}>\r\n                        <Card\r\n                            date={item['release_date']}\r\n                            title={item['title']}\r\n                            id={item.id}\r\n                            poster={item[\"poster_path\"]}\r\n                            path={`movie/movie-${item.id}`}\r\n                            favorite={isInFavorite}\r\n                            />\r\n                    </div>\r\n                })}\r\n            </div></>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst ShowCardWithRouter = withRouter(ShowCard)\r\n\r\nexport default ShowCardWithRouter;","import s from './Favorite.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport React, {useEffect} from \"react\";\r\nimport {deleteFavoriteItem, getFavorites, getFavoritesCard, resetFavoriteItems} from \"../../Redux/Favorite-reducer\";\r\nimport Card from \"../Common/Card/Card\";\r\n\r\nconst Favorite = (props) => {\r\n\r\n    const favorites = useSelector(state=> state.favorites.favorites)\r\n    const result = useSelector(state=> state.favorites.results)\r\n    const dispatch = useDispatch();\r\n    useEffect(()=>{\r\n        window.scrollTo(0, 0);\r\n        dispatch(getFavorites());\r\n        dispatch(getFavoritesCard(favorites));\r\n    }, []);\r\n    // dispatch(getFavorites());\r\n    useEffect(()=>{\r\n        dispatch(getFavoritesCard(favorites));\r\n    }, [favorites])\r\n\r\n    const items = result.map(item=>{\r\n        return(\r\n            <div className={s.hidden}>\r\n                <Card path={`movie/movie-${item.id}`}\r\n                      date={item['release_date']}\r\n                      title={item['title']}\r\n                      id={item.id}\r\n                      poster={item[\"poster_path\"]}\r\n                      key={item.id}\r\n                      favorite={true}\r\n                />\r\n                <button className={s.favoriteBtn} onClick={()=>dispatch(deleteFavoriteItem(item.id))}>delete</button>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    return(\r\n        <div className={s.main}>\r\n            {items.length>0 ? items : <p>You don't have favorites movie</p>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Favorite;","import './App.scss';\nimport Header from \"./Components/Header/Header\";\nimport {Redirect, Route} from \"react-router-dom\";\nimport React from \"react\";\nimport MoviePage from \"./Components/Movie/Movie\";\nimport ShowCard from \"./Components/Movie/ShowCard/ShowCard\";\nimport Favorite from \"./Components/Favorite/Favorite\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Header />\n        <div className=\"block\">\n\n        <Route exact path='/movie' render={()=> <MoviePage/>} />\n        <Route exact path='/movie/:path' render={()=> <ShowCard/>} />\n\n        <Route exact path='/favorite' render={()=> <Favorite/> } />\n\n        <Route exact path='/' render={()=> <Redirect to='/movie'/> }/>\n\n        </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport TrendingReducer from \"./TrandingPage-reducer\";\r\n// import resultsReducer from \"./Relusts-reducer\";\r\nimport MovieReducer from \"./MoviePage-reducer\";\r\nimport showReducer from \"./ShowCard-reducer\";\r\nimport FavoriteReducer from \"./Favorite-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n    // trendingPage: TrendingReducer,\r\n    moviePage: MovieReducer,\r\n    // results: resultsReducer,\r\n    showInfo: showReducer,\r\n    favorites: FavoriteReducer\r\n})\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./Redux/redux-store\"\n\n\nconst rerenderTree = (state) => {\n    ReactDOM.render(\n        <BrowserRouter>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </BrowserRouter>,\n        document.getElementById('root')\n    );\n}\nrerenderTree(store.getState());\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}